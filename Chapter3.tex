%!TEX root = Manuscript.tex

\chapter{Rough co-registration}
\label{chap:intro}
\minitoc

\section{Introduction}
The goal of rough co-registration is establishing a transformation model between different epochs to guide the subsequent precise matching step. Minimum matches between different epochs are required, depending on the model type:\\
\begin{enumerate}
    \item 2D similarity transformation model, which requires at least 2 matches for each inter-epoch image pair to solve 4 parameters;
    \item Homography transformation model, which requires at least 4 matches for each inter-epoch image pair to solve 8 parameters;
    \item 3D Helmert transformation model, which requires at least 3 matches for the whole block to solve 7 parameters.
\end{enumerate}
Generally, each inter-epoch image pair would be matched, followed by a RANSAC routine to recover the best transformation model.
%The most critical target is to get reliable matches, instead of obtaining accurately localized ones.
It is about getting reliable matches rather than obtaining accurately localized ones.
Since multi-epoch images often demonstrate different appearances due to scene changes and heterogeneous acquisition conditions, we come up with 2 ideas in order to improve the matching robustness:\\
\begin{enumerate}
    \item Instead of building transformation models (2D similarity or homography) for each inter-epoch image pair that might contradict each other, it is better to build a 3D Helmert transformation model which is globally consistent over the whole block.
    \item Take 3D geometry into consideration to boost the matching performance.
\end{enumerate}
Based on these ideas, we attempted 2 strategies for multi-epoch rough co-registration:\\
\begin{enumerate}
    \item Match every possible combination of inter-epoch image pairs, followed by projecting the matches onto ground to build globally consistent transformation model.
    \item Generate orthophoto or DSM for each epoch, and match orthophoto/DSM pairs, followed by RANSAC based on 2D similarity transformation model to remove outliers, and build a 3D Helmert transformation model between epochs by projecting inlier mathces to ground.
\end{enumerate}

Our main contributions include:\\
\begin{enumerate}
	\item Improve matching robustness by building globally consistent transformation model, which can be achieved by either (1) matching each inter-epoch image pair followed by global filtering or (2) integrating images from the same epoch into a single image (DSM or orthophoto) before matching.
	\item Introduce the idea of matching DSMs to obtain robust matches even under drastic scene changes, as the 3D landscape often stays globally stable over time.
	\item Introduce 3D RANSAC based on DSMs to filter tentative matches: each three matches projected to DSM serve to compute a 3D Helmert transformation between epochs, and most importantly provide a 2D constraint on all images’ matches.
	\item Introduce \textit{4 rotation hypotheses} to make SuperGlue, which is not invariant to rotation larger than 45$^\circ$, practicable on remote sensing images.
	\item Introduce \textit{one-to-many tiling scheme} to scale-up the deep learning methods for feature matching.
	\item Improve the performance of matching inter-epoch images with SIFT by (1) using downsampled images and (2) skipping ratio test and FIGNN.
\end{enumerate}


%\subsection{Motivation}
%\subsection{Contribution}

\section{Methodology}
%Our goal is to improve robustness by building globally consistent transformation model over the whole block.
%In order to achieve this goal, we exploded 2 strategies:
%(1) matching each potential image pair followed with global filtering based on 3D RANSAC;\\
%(2) get a global image for each epoch first (DSM or orthophoto), apply matching and 2D RANSAC.\\
%零碎匹配，整体inlier
%整体匹配
%Our methods aim at roughly co-register 2 epochs to the same frame. One epoch (generally the more recent epoch) would be chosen as the reference epoch $E_r$, the other one would be treated as free epoch $E_f$. A transformation model would be built to move epoch $E_f$ to the frame of epoch $E_r$.\\
We provide 2 strategies for inter-epoch rough co-registration: matching image pairs or matching orthophotos/DSMs. The pipelines will be elaborated in the following sections. Please notice our pipelines are generic, different feature matching methods can be readily applied in them. At present we use either SIFT or SuperGlue to test our pipeline as they are currently \textit{state-of-the-art}, but they can be replaced when better matching methods appear in the future.\\
Our methods are not only able to match aerial or satellite images, but also able to match mixed images. Aerial images are supposed to be accompanied with focal lengths and physical sensor sizes, which are usually available. For historical aerial images, they should be resampled to the geometry of the fiducial marks prior to processing. 
%For the sake of simplicity, only 2 epochs are present in our processing flows, however, it can be easily extended to more epochs.
\par
We adopt the following naming conventions:\\
\begin{enumerate}
    \item Images acquired in \textit{epoch$_1$} and \textit{epoch$_2$} are denoted as $I^{e_1}$ and $I^{e_2}$;
    \item Orientations of \textit{epoch$_1$} and \textit{epoch$_2$} are denoted as $O^{e_1}$ and $O^{e_2}$; 
    %\item Ground extent of \textit{epoch$_1$} and \textit{epoch$_2$} are denoted as $G^{e_1}$ and $G^{e_2}$;
    \item Orthophotos of \textit{epoch$_1$} and \textit{epoch$_2$} are denoted as $Op^{e_1}$ and $Op^{e_2}$; 
    \item DSMs of \textit{epoch$_1$} and \textit{epoch$_2$} are denoted as $D^{e_1}$ and $D^{e_2}$.
\end{enumerate}
Before inter-epoch rough co-registration, we process each epoch individually to recover the relative orientations and DSM within the same epoch. It is a standard photogrammetry or SfM pipeline and can be accomplished with lots of solutions (e.g. MicMac~\cite{deseilligny2011apero}, COLMAP~\cite{schonberger2016structure}, {OpenMVG~\cite{openMVG}, Theia~\cite{theia}, etc.}). The solution used in our experiment is MicMac. It is performed within each \textit{epoch$_i$} individually as follows:
\begin{enumerate}
\item Extract intra-epoch matches between images $I^{e_i}$ with SIFT ~\cite{lowe2004distinctive};
\item Based on the sequential SfM to compute interior and relative orientations ({$O_{ini}^{e_i}$}) for aerial images, or to refine the RPC(Rational Polynomial Coefficient) for satellite images;
\item Based on image orientations $O_{ini}^{e_i}$, perform semi-global dense matching~\cite{mpd:06:sgm} {between images $I^{e_i}$} to get {DSM ($D_{ini}^{e_i}$) in their arbitrary coordinate frames.}
\item Orthorectify the images to get orthophotos ($Op_{ini}^{e_i}$) if the matching orthophotos strategic is applied.
%\item Project the images onto mean elevation plane ($G_{ini}^{e_i}$) get orthophotos ($Op_{ini}^{e_i}$).
\end{enumerate}
%Please notice that the step (1) and (2) would not be necessary if the epoch is satellite, since the orientations would be provided by RPC(Rational Polynomial Coefficient).\\
%Two different strategies are provided to perform the rough co-registration. The pipelines will be elaborated in the following sections. 
\subsection{Strategy 1: Matching image pairs}
%\subsection{Strategy 1: global filtering}
%CoReg-R3D
This method is for co-registering aerial epoch to aerial epoch only. It is not practical for satellite epoch because satellite images are often with large size and will decrease efficiency remarkably.\\
The workflow of matching image pairs strategy is displayed in Figure~\ref{WorkflowImgPair}(a).\\
We introduce \textit{4 rotation hypotheses} when feature matching method that is not invariant to rotations lager than 45$^\circ$ (e.g. SuperGlue) is applied.\\
The \textit{4 rotation hypotheses} works as follows (cf. Figure~\ref{WorkflowImgPair}(b)): 
\begin{enumerate}
    \item Rotate the secondary image by 90$^{\circ}$ four times;
    \item Match each rotated image with the master image;
    \item Keep the hypothesis with most numerous matches.
\end{enumerate}
The \textit{4 rotation hypotheses} would not be applied when rotation invariant matching method (e.g. SIFT) is adopted.
\par
Assuming the numbers of images in \textit{epoch$_1$} and \textit{epoch$_2$} are P and Q individually, the matching image pairs strategy works as follows:\\
\begin{enumerate}
    \item Match P$\times$Q image pairs respectively (with or without \textit{4 rotation hypotheses}, depending on whether the matching method is rotation invariant), giving rise to P$\times$Q sets of matches $M({\mathbf{K}^{e_1},\mathbf{K}^{e_2}})$ ($\mathbf{K}^{e_i}$ represents keypoints in image $I^{e_i}$).
    \item Run RANSAC based on 2D similarity transformation model for each image pair, giving rise to P$\times$Q sets of matches $M({\mathbf{\widetilde{K}}^{e_1},\mathbf{\widetilde{K}}^{e_2}})$ ($\mathbf{\widetilde{K}}^{e_i}$ represents keypoints in image $I^{e_i}$.) This step aims to filter matches into a reasonable number, otherwise the subsequent global filtering would become prohibitive. (This step would be skipped if matching methods that simultaneously performed filtering during the matching procedure (e.g. SuperGlue) are applied in the previous step.)
    \item Project $\mathbf{\widetilde{K}}^{e_i}$ in the matches $M({\mathbf{\widetilde{K}}^{e_1},\mathbf{\widetilde{K}}^{e_2}})$ onto ground with the help of orientations $O_{ini}^{e_i}$ and DSM $D_{ini}^{e_i}$ individually, resulting in points on ground $\mathbf{KG}^{e_i}$.
    \item Sample matches $M({\mathbf{KG}^{e_1},\mathbf{KG}^{e_2}})$ iteratively to compute the 3D Helmert transformation RANSAC model:
\begin{equation}
\left [ \begin{array}{c}
{KG}_x^{e_2}\\
{KG}_y^{e_2}\\
{KG}_z^{e_2}
\end{array}
\right ] =\lambda \cdot \mathbf{R} \cdot {\left [ \begin{array}{c}
    {KG}_x^{e_1}\\
    {KG}_y^{e_1}\\
    {KG}_z^{e_1}
    \end{array}
    \right ]} + \left [ \begin{array}{c}
\Delta_x\\
\Delta_y\\
\Delta_z
\end{array}
\right ]. \label{eq:2DSim}
\end{equation}
    
%   \begin{equation*}
%       {KG_i^{e_2}} = \lambda \cdot \mathbf{R} \cdot {KG_i^{e_1}} + \mathbf{T} , \quad i \in [1,3] \label{eq:3Dsim}
%   \end{equation*}
where $\lambda$ is the scale factor, $\mathbf{R}$ is the rotation matrix and $\left [ \begin{array}{c}
    \Delta_x, \Delta_y, \Delta_z
\end{array}
\right ]$ $^{^T}$ is the translation vector.
We set the number of RANSAC iterations to 1000, and consider matches within $T_r$ of its predicted position as inliers. In our experiment, {$T_r$ was set to 50m.}
    % to find the best 3D Helmert transformation model.
\end{enumerate}

\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Workflow]{
    \begin{minipage}[t]{1\linewidth}
        \centering
        \includegraphics[width=1\columnwidth]{images/Chapitre3/R3D.png}
    \end{minipage}%
}
        \subfigure[Four rotation hypotheses]{
    \begin{minipage}[t]{0.8\linewidth}
        \centering
        \includegraphics[width=0.8\columnwidth]{images/Chapitre3/R3D-RotHyp.png}
    \end{minipage}%
}
        \caption{Rough co-registration by matching image pairs. (a) Workflow. Each inter-epoch image pair is matched (with 4 rotation hypotheses which are explained in (b), if the matching method is not rotation invariant), followed by projecting the matches onto ground to find the globally consistent inliers. (b) Four rotation hypotheses. We rotate the secondary image by 90 $^\circ$ four times to match with master image and keep the best one with most numerous matches (red rectangle).}
        \label{WorkflowImgPair}
    \end{center}
\end{figure*}

This strategy is adapted from our early attempt to match different epochs by matching P$\times$Q inter-epoch image pairs individually without building a globally consistent transformation model. It is accomplished by estimating a 2D similarity model for each image pair in the first round of matching and using it to guide a second round of matching. Obviously it is less robust as the P$\times$Q 2D similarity models that should be consistent, might contradict each other. \\
However, we found the idea of using 2D similarity model to guide matching is helpful in some specific cases, for example when the orientations $O_{ini}^{e_i}$ and DSMs $D_{ini}^{e_i}$ are not available because it is difficult to match intra-epoch image pairs. In Appendix ~\ref{chap:appendix3} we displayed a small dataset over glacier area. It consists of only one epoch. However, there are images among them that are extremely challenging to match, both SIFT and SuperGlue failed on it. We provide the option to input a rough 2D similarity transformation model for prediction to reduce the search space and successfully recovered several good matches.

%\begin{figure*}[htbp]
%    \begin{center}
%        \includegraphics[width=0.8\columnwidth]{images/Chapitre3/R3D-RotHyp.png}
%        \caption{4 rotation hypotheses of matching image pairs.}
%        \label{Flow-process diagram}
%    \end{center}
%\end{figure*}

%\subsubsection{SIFT}
%\subsubsection{SuperGlue}
\subsection{Strategy 2: Matching Orthophotos/DSMs}
%\subsection{trategy 2: global matching}
Another strategy is to match orthophotos or DSMs, which is suitable for both aerial images and satellite images. The workflows are displayed in Figure~\ref{WorkflowOrtho}(a) and Figure~\ref{WorkflowDSM}(a) individually. Different than matching P$\times$Q image pairs, we only need to match a pair of DSMs/orthophotos.
Orthophotos are by nature RGB images, therefore feature matching methods can be applied on them directly. Conversely, DSMs are 2.5D rasters recorded in floating-point format, they should be converted beforehand to [0–255] range grayscale images.
\par
\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Workflow]{
            \begin{minipage}[t]{1\linewidth}
                \centering
                \includegraphics[width=1\columnwidth]{images/Chapitre3/ortho.png}
            \end{minipage}%
        }
        \subfigure[Four rotation hypotheses combined with \textit{one-to-many tiling scheme}]{
            \begin{minipage}[t]{1\linewidth}
                \centering
                \includegraphics[width=1\columnwidth]{images/Chapitre3/ortho-RotHyp.png}
            \end{minipage}%
        }
        \caption{Rough co-registration by matching orthophotos. (a) Workflow. Orthophotos are matched (with 4 rotation hypotheses combined with \textit{one-to-many tiling scheme} scheme which are explained in (b), if the matching method is not rotation invariant), followed by projecting the inlier matches onto ground to build 3D Helmert transformation model. (b) Four rotation hypotheses combined with \textit{one-to-many tiling scheme}. We rotate the secondary orthophoto by 90 $^\circ$ four times to match with master orthophoto and keep the best one with most numerous RANSAC inliers (red rectangle). \textit{One-to-many tiling scheme} is applied during each hypothesis, with both orthophotos croped into tiles followed by matching all the tile pairs and merging the matches.}
        \label{WorkflowOrtho}
    \end{center}
\end{figure*}

%\begin{figure*}[htbp]
%    \begin{center}
%        \includegraphics[width=1\columnwidth]{images/Chapitre3/ortho.png}
%        \caption{Rough co-registration by matching orthophotos.}
%        \label{Flow-process diagram}
%    \end{center}
%\end{figure*}
%
%\begin{figure*}[htbp]
%    \begin{center}
%        \includegraphics[width=0.8\columnwidth]{images/Chapitre3/ortho-RotHyp.png}
%        \caption{4 rotation hypotheses of matching orthophotos.}
%        \label{Flow-process diagram}
%    \end{center}
%\end{figure*}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Workflow]{
            \begin{minipage}[t]{1\linewidth}
                \centering
                \includegraphics[width=1\columnwidth]{images/Chapitre3/dsm.png}
            \end{minipage}%
        }
        \subfigure[Four rotation hypotheses combined with tiling scheme]{
            \begin{minipage}[t]{1\linewidth}
                \centering
                \includegraphics[width=1\columnwidth]{images/Chapitre3/dsm-RotHyp.png}
            \end{minipage}%
        }
        \caption{Rough co-registration by matching DSMs. (a) Workflow. DSMs are matched (with 4 rotation hypotheses combined with tiling scheme which are explained in (b), if the matching method is not rotation invariant), followed by projecting the inlier matches onto ground to build 3D Helmert transformation model. (b) Four rotation hypotheses combined with tiling scheme. We rotate the secondary DSM by 90 $^\circ$ four times to match with master DSM and keep the best one with most numerous RANSAC inliers (red rectangle). Tiling scheme is applied during each hypothesis, with both DSMs croped into tiles followed by matching all the tile pairs and merging the matches.}
        \label{WorkflowDSM}
    \end{center}
\end{figure*}

%\begin{figure*}[htbp]
%    \begin{center}
%        \includegraphics[width=1\columnwidth]{images/Chapitre3/dsm.png}
%        \caption{Rough co-registration by matching DSMs.}
%        \label{Flow-process diagram}
%    \end{center}
%\end{figure*}
%
%\begin{figure*}[htbp]
%    \begin{center}
%        \includegraphics[width=0.8\columnwidth]{images/Chapitre3/dsm-RotHyp.png}
%        \caption{4 rotation hypotheses of matching DSMs.}
%        \label{Flow-process diagram}
%    \end{center}
%\end{figure*}

The DSM is converted to grayscale image as follows:\\
\begin{enumerate}
    \item Calculate the standard deviation of the DSM elevation;
    \item Pixels with elevations larger than double the standard deviation are considered outliers and therefore ignored;
    \item Transform the inlier pixels to the range of [0-255], resulting in grayscale image.
    \item Apply wallis filter on the grayscale image to get rid of uneven illumination, resulting in more informative image.
\end{enumerate}
\par
Matching DSMs/orthophotos has the following merits:
\begin{enumerate}
    \item Redundancy caused by the forward and side overlapping areas is removed;
    \item It enables a follow-up search for globally consistent inliers directly without the need to project matches onto ground;
    \item It decreases the combinatorial complexity caused by rotation ambiguity of P$\times$Q images;
    \item When matching DSMs, robust matches can be expected even under extreme scene changes, as 3D landscape generally provide stable information over time.
\end{enumerate}

DSMs/orthophotos are usually large images as they have larger extent than input images.
Learned matching methods like SuperGlue often underperform on large images as they are either trained on small images to run real-time or with limited spatial resolution of CNN feature maps. We propose a \textit{one-to-many tiling scheme} to make up for the deficiency. 
\par
The \textit{one-to-many tiling scheme} is performed as follows (Figure~\ref{WorkflowOrtho}(a) and Figure~\ref{WorkflowDSM}(a)):\\
\begin{enumerate}
    \item Crop both the master and secondary images into M and N tiles of certain size, respectively;
    \item Apply matching on M$\times$N tile pairs individually;
    \item Merge the matches and perform RANSAC based on 2D similarity transformation to remove outliers.
\end{enumerate}

The \textit{one-to-many tiling scheme} can be combined with \textit{4 rotation hypotheses} when the matching method is both unsatisfactory on large images and not rotation invariant, as shown in Figure~\ref{WorkflowOrtho}(b) and Figure~\ref{WorkflowDSM}(b).
Both \textit{one-to-many tiling scheme} and \textit{4 rotation hypotheses} would not be applied when matching method that is both satisfactory on large images and rotation invariant (e.g. SIFT) is adopted.
\par
The matching DSMs/orthophotos strategy works as follows:\\
\begin{enumerate}
    \item Transform DSMs to grayscale images if the DSMs are to be matched.
    \item Match DSMs/orthophotos (with or without \textit{one-to-many tiling scheme} and \textit{4 rotation hypotheses}, depending on whether the matching method is satisfactory on large images and rotation invariant), giving rise to one set of matches $M({\mathbf{K}^{e_1},\mathbf{K}^{e_2}})$ ($\mathbf{K}^{e_i}$ represents keypoints in DSM $D^{e_i}$ or orthophoto $Op^{e_i}$).
    %\item Run RANSAC on matches based on 2D similarity transformation model to remove outliers.
    \item Sample matches $M({\mathbf{K}^{e_1},\mathbf{K}^{e_2}})$ iteratively to compute the 2D similarity transformation RANSAC model:
\begin{equation}
\left [ \begin{array}{c}
{K}_x^{e_2}\\
{K}_y^{e_2}
\end{array}
\right ] =\lambda \cdot { \left[ \begin{array}{cc}
    cos\theta & sin\theta\\
    -sin\theta & cos\theta
    \end{array} 
    \right ]} \cdot {\left [ \begin{array}{c}
    {K}_x^{e_1}\\
    {K}_y^{e_1}
    \end{array}
    \right ]} + \left [ \begin{array}{c}
\Delta_x\\
\Delta_y
\end{array}
\right ]. \label{eq:2DSim}
\end{equation}

%   \begin{equation*}
%       {KG_i^{e_2}} = \lambda \cdot \mathbf{R} \cdot {KG_i^{e_1}} + \mathbf{T} , \quad i \in [1,3] \label{eq:3Dsim}
%   \end{equation*}
    where $\lambda$ is the scale factor, $\theta$ is the in-plane rotation angle and $\left [ \begin{array}{c}
    \Delta_x, \Delta_y
    \end{array}
    \right ]$ $^{^T}$ is the translation vector.
    %$\mathbf{T}$ is the translation vector and $\mathbf{R}$ is the rotation matrix.
    We set the number of RANSAC iterations to 1000, and consider matches within $T_r$ of its predicted position as inliers. In our experiment, {$T_r$ was set to 15 pixels.}
    \item Project the inlier matches onto ground to calculate 3D Helmert transformation parameters.
\end{enumerate}




%\subsubsection{SIFT}
%\subsubsection{SuperGlue}

\section{Experiments}
As described in the previous section, we provide 3 pipelines out of 2 strategies to perform rough co-registration:\\
\begin{enumerate}
    \item Match image pairs: hereinafter referred to as \textit{ImgPairs};
    \item Match orthophotos: hereinafter referred to as \textit{Ortho};
    \item Match DSMs: hereinafter referred to as \textit{DSM}.
\end{enumerate}
For each pipeline, we employ either SIFT or SuperGlue as the feature matching method, giving rise to 6 methods:\\
\begin{enumerate}
    \item $SIFT_{ImgPairs}$;
    \item $SuperGlue_{ImgPairs}$;
    \item $SIFT_{Ortho}$;
    \item $SuperGlue_{Ortho}$;
    \item $SIFT_{DSM}$;
    \item $SuperGlue_{DSM}$;
\end{enumerate}
In the following we introduce the implementation details, the datasets and the evaluation criteria, as well as comparison of the 6 methods.\\

\subsection{Implementation details}
%To improve efficiency, all input images are downsampled by a factor of 3 beforehand. To calculate the DSMs and orthophotos, we further downsample the images by a factor of 4, which amounts to a total downsampling factor of 12 with respect to the input images. For example, the images in Fr{\'e}jus 1970 are downsampled from [8766, 8763] to [730, 730]. As the goal of rough co-registration is to get robust rather than precise matches, a low resolution DSM/orthophoto is good enough and keeps the computational cost low. \\
To improve efficiency, all input images are downsampled by a factor of 3 beforehand. To calculate the DSMs and orthophotos, we further downsample the images by a factor of 8, which amounts to a total downsampling factor of 24 with respect to the input images. For example, the images in Fr{\'e}jus 1970 are downsampled from [8766, 8763] to [365, 365] for calculating DSMs and orthophotos. As the goal of rough co-registration is to get robust rather than precise matches, a low resolution DSM/orthophoto is good enough and keeps the computational cost low. \\
However, downsampling factor of Fr{\'e}jus 2014 is set to be 12 instead of 24, as Fr{\'e}jus is mainly covered with buildings and the GSD of Fr{\'e}jus 2014 is too limited to tell details from DSM generated on images downsampled with factor 24.\\
%For each dataset, one epoch (generally the most recent epoch) would be chosen as the reference epoch, the remaining epochs would be treated as free epochs. The rough co-registration is applied on each free epoch and the reference epoch to obtain the co-registered image orientations in the frame of the reference epoch.
For each dataset, the rough co-registration is applied on each free epoch $E_f$ and the reference epoch $E_r$.
\par

%As inter-epoch images often look very different, when the original SIFT ~\cite{lowe2004distinctive} (i.e. $SIFT_{Default}$) is applied directly in our methods $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$, generally very few matches are recovered. So we replace it with a slightly different version of SIFT (i.e.  $SIFT_{Adapted}$) with the following modifications:\\
For the SIFT algorithm applied in methods $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$, we did a test to compare the performance of SIFT on our multi-epoch dataset with different parameters. Two different sets of SIFT parameters are compared, which are indicated as $SIFT_{Default}$ and $SIFT_{Adapted}$:\\
\begin{enumerate}
	\item \textbf{$SIFT_{Default}$}: Extract SIFT keypoints on the original images, followed by mutual nearest neighbor matching combined with ratio test and FIGNN (REF).
	\item \textbf{$SIFT_{Adapted}$}: Downsample the input images with a factor of 3 and extract SIFT keypoints, match them by mutual nearest neighbor without ratio test and FIGNN, followed by applying RANSAC based on 2D similarity transformation model to remove outliers.
\end{enumerate}

%\begin{enumerate}
%	\item Downsample the images by a factor of 3 (i.e. a total downsampling factor of 9 with respect to the input images) to focus on the global outline of the scene for improving robustness;
%	\item Relax the matching restriction by skipping the ratio test to obtain more tentative matches followed by applying RANSAC based on 2D similarity transformation model to remove outliers.
%\end{enumerate}
Experiments comparing $SIFT_{Default}$ and $SIFT_{Adapted}$ on methods ${ImgPairs}$, ${Ortho}$ and ${DSM}$ are displayed in Appendix ~\ref{chap:appendix1}, in which $SIFT_{Adapted}$ recovered enough good matches while $SIFT_{Default}$ failed. It is reasonable as inter-epoch images often look very different, $SIFT_{Default}$ generally recover very few matches. By downsamping the images, we are able to focus on the global outline of the scene for improving robustness. By relaxing the matching restriction of ratio test and FIGNN, right matches would be reserved while wrong matches would be removed in the subsequent RANSAC.\\

For $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$, the image/patch pairs entering SuperGlue are downsampled to 640$\times$480 pixels, as it is the default parameter provided by the author and guarantees the best performance. For the tiling scheme in $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$, orthophotos/DSMs are split to tiles of the size 1280$\times$960 pixels.


\subsection{Datasets}
%Frejus, Pezenas, Kobe\\
We tested our method on three sets of datasets: Fr{\'e}jus, Pezenas and Kobe. Details of the datasets are listed in Table~\ref{AerialData}, ~\ref{SatelliteData} and Figure~\ref{FrejusData},~\ref{PezenasData}, ~\ref{KobeData}.
\par
\paragraph{Fr{\'e}jus} It is a 15 $km^2$ rectangular area located in Fr{\'e}jus, a commune in southeastern France. The area is mainly covered with buildings along with scattered farmlands, except a half-moon-shaped bay located in south. We have four sets of aerial images acquired in 1954, 1966, 1970 and 2014. The epoch 2014 was acquired with the IGN's digital metric camera ~\cite{souchon2010ign}, its orientations are both in global reference frame and precise. Therefore it is treated as the ground truth (GT) during our processing (in other words, the epoch 2014 is chosen as the reference epoch). 
The area exhibits drastic scene changes in the 60-year period, as can be seen in Figure~\ref{FrejusEvolution}, where the evolution of a subregion is displayed.\\
\paragraph{Pezenas} It is a 420 $km^2$ rectangular area located in Pezenas in the Occitanie region in southern France. The area is mainly covered with vegetation and several sparsely populated urban zones. We have at our disposal three sets of aerial images acquired in 1971, 1981 and 2015, and one set of satellite images acquired in 2014. Both the epoch 2014 and 2015 are treated as GT. In this dataset we are interested in matching historical epochs (1971 and 1981) with aerial GT and satellite GT individually. The area exhibits changes in scene appearance in the 44-year period.\\
\paragraph{Kobe} It is a 90 $km^2$ area of irregular shape located in the north of Awaji Island, Japan. The well-known Kobe earthquake happened here in January 1995. We have two sets of aerial images: pre-event acquired in 1991 and post-event acquired in 1995. It is mainly covered with mountain area and narrow urban zones along the sea. There is no GT, hence we chose the latter epoch (i.e. epoch 1995) as the reference epoch and measured 2 points on Google map to scale the result to metric units. In this dataset we are interested in localizing the earthquake fault.

\begin{table}[htbp]
    \scriptsize %\footnotesize
    \centering
    \begin{tabular}{||l|c|c|c|c||c|c|c|c||c|c||}\hline
        &\multicolumn{4}{c||}{Fr{\'e}jus}&\multicolumn{4}{c||}{Pezenas}&\multicolumn{2}{c||}{Kobe}\\\hline
                &E1954&E1966&E1970&E2014&E1971&E1981&\multicolumn{2}{c||}{E2015}&E1991&E1995\\\hline\hline
        F [pix]&23350&10230&10230&\color{black}18281&7589&7607&9967.5&9204.5&7662&7662\\
        %Size [mm]&\color{black}300,300&\color{black}180,180&\color{black}180,180&99.28,72.42&230230&230230&47,35&50,36&212212&212,212\\
        Wid [mm]&300&180&180&99.28&230&230&47&50&212&212\\
        Hei [mm]&300&180&180&72.42&230&230&35&36&212&212\\
        GSD [m]&\color{black}0.11&\color{black}0.17&0.17&0.35&0.32&0.59&0.46&0.5&0.5&0.18\\
        F. o.&60\%&60\%&60\%&60\%&   60\%&60\%&60\%&60\%&   65\%&65\%\\
        S. o.&20\%&30\%&30\%&30\%&   20\%&20\%&50\%&50\%&   35\%&65\%\\
        H  [m]&2500&1700&1700&6500&2400&4500&4600&4600&3800&1400\\
        Nb &19&15&19&33&57&27&308&74&15&83\\\hline
    \end{tabular}
    \caption{Aerial dataset details of Fr{\'e}jus, Pezenas and Kobe. The 2015 acquisition of Pezenas is obtained with two sets of camera. E stands for epoch, F means focal length, Wid and Hei are the width and height of image, GSD is the ground sampling distance, F.o. and S.o. are forward and side overlap, H is the flying height, Nb is the number of images.}
    \label{AerialData}
\end{table}

\begin{table}[htbp]
	\scriptsize %\footnotesize
	\centering
	\begin{tabular}{||l|c|c||}\hline
		& Master image & Secondary image\\\hline
		Constellation & Pleiades & Pleiades \\
		Number of lines & 38468 & 37710 \\
		Number of pixels per line & 34108 & 33392 \\
		GSD [m] & 0.5 & 0.5\\
		Cloud cover & 3.9\% & 4.0\% \\
		Snow cover & 0\% & 0\% \\
		Acquired date & 12/06/2014 & 12/06/2014 \\\hline
		%B/H?
	\end{tabular}
	\caption{Satellite dataset details of Pezenas. GSD means the ground sampling distance.}
	\label{SatelliteData}
\end{table}

\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Fr{\'e}jus 1954 (19 images)]{
            \begin{minipage}[t]{0.4\linewidth}
                \centering
                \includegraphics[width=5.65cm]{images/Chapitre3/Frejus1954.png}
            \end{minipage}%
        }
        \subfigure[Fr{\'e}jus 1966 (15 images)]{
            \begin{minipage}[t]{0.56\linewidth}
                \centering
                \includegraphics[width=7.6cm]{images/Chapitre3/Frejus1966.png}
            \end{minipage}%
        }
        \subfigure[Fr{\'e}jus 1970 (19 images)]{
    \begin{minipage}[t]{0.5\linewidth}
        \centering
        \includegraphics[width=6.1cm]{images/Chapitre3/Frejus1970.png}
    \end{minipage}%
}
\subfigure[Fr{\'e}jus 2014 (36 images)]{
    \begin{minipage}[t]{0.46\linewidth}
        \centering
        \includegraphics[width=6.25cm]{images/Chapitre3/Frejus2014.png}
    \end{minipage}%
}
        \caption{Images demonstration of different aerial epochs in Fr{\'e}jus, image number of each epoch is displayed in the parenthesis of each sub headline. The common zone between all the epochs is indicated by the red rectangles.}
        \label{FrejusData}
    \end{center}
\end{figure*} 


\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Pezenas 1971 (57 images)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.45cm]{images/Chapitre3/Pezenas1971.png}
            \end{minipage}%
        }
        \subfigure[Pezenas 1981 (27 images)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.68cm]{images/Chapitre3/Pezenas1981.png}
            \end{minipage}%
        }
            \subfigure[Pezenas 2014 (2 satellite images)]{
    	\begin{minipage}[t]{0.48\linewidth}
    		\centering
    		\includegraphics[width=6.6cm]{images/Chapitre3/Pezenas2014.png}
    	\end{minipage}%
    }
        \subfigure[Pezenas 2015 (382 images)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.78cm]{images/Chapitre3/Pezenas2015.png}
            \end{minipage}%
        }
        \caption{Images demonstration of different aerial epochs as well as satellite epoch in Pezenas, image number of each epoch is displayed in the parenthesis of each sub headline. There are 2 historical aerial epochs (1971 and 1981) and 2 GT epochs (2014 the satellite epoch and 2015 the aerial epoch) in this dataset. The common zone between the historical epochs and the 2014 satellite epoch is indicated by the blue rectangles, while that between historical epochs and the 2015 aerial epoch is in red rectangles.}
        \label{PezenasData}
    \end{center}
\end{figure*} 


\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Kobe 1991 (15 images)]{
            \begin{minipage}[t]{1\linewidth}
                \centering
                \includegraphics[height=13cm,angle=90]{images/Chapitre3/Kobe1991.png}
            \end{minipage}%
        }
        \subfigure[Kobe 1995 (83 images)]{
            \begin{minipage}[t]{1\linewidth}
                \centering
                \includegraphics[height=13cm,angle=90]{images/Chapitre3/Kobe1995.png}
            \end{minipage}%
        }
        \caption{Images demonstration of different aerial epochs in Kobe, image number of each epoch is displayed in the parenthesis of each sub headline. The common zone between all the epochs is indicated by the red rectangles.}
        \label{KobeData}
    \end{center}
\end{figure*} 


\begin{figure*}[htbp]
	\begin{center}
		\subfigure[Subregion of Fr{\'e}jus 1954]{
			\begin{minipage}[t]{1\linewidth}
				\centering
				\includegraphics[width=13cm]{images/Chapitre3/Frejus1954Sub.png}
			\end{minipage}%
		}
		\subfigure[Subregion of Fr{\'e}jus 2014]{
			\begin{minipage}[t]{1\linewidth}
				\centering
				\includegraphics[width=13cm]{images/Chapitre3/Frejus2014Sub.png}
			\end{minipage}%
		}
		\caption{Evolution of a subregion in Fr{\'e}jus.}
		\label{FrejusEvolution}
	\end{center}
\end{figure*} 

%Show piled image of each epoch?
\subsection{Evaluation}
%%\subsubsection{Qualitative evaluation}
%%\subsubsection{Quantitative evaluation}
%%(1)Matches visualization\\
%%%inlier ratio (RANSAC and GT)\\
%%(2)Ground check points\\
%%(3)DoD\\
%For each dataset, we manually measured 3 GCPs well distributed in the block. The application of 3 GCPs is twofold:\\
%\begin{itemize}
%    \item Based on the GCPs, a 3D Helmert transformation model between each free epoch and the reference epoch is built to obtain the GT co-registered orientations.
%    \item GCPs are also treated as ground check points to evaluate the co-registered orientations calculated by our methods.
%\end{itemize}
%%as check points to evaluate the roughly co-registered orientations resulted by 6 methods:\\
In order to evaluate the results qualitatively and quantitatively, the following criterias would be applied:\\
\begin{enumerate}
    \item \textbf{Matches visualization}. The number of (1) total matches (i.e. matches before RANSAC) as well as (2) RANSAC inliers (matches that survived RANSAC) would be displayed together in bar charts; in the meantime, the RANSAC inliers would be visualized and demonstrated, from which we can tell whether the methods succeeded or failed on each dataset.
%    \item Ground check points: the co-registered orientations calculated by our methods would be used to triangulate the ground check points and the coordinate differences \textcolor{red}{(explain the diff means the mean diff of x, y and z)} will be displayed. The better the epochs co-register, the smaller the difference is.
    \item \textbf{DoD}. For the methods that succeeded, we use the resulted orientations in the same frame to calculate DSMs in order to generate DoD. The visualization of DoD as well as the statistical information would be displayed.
    %Ideally the DoD should only display the scene changes. If the dome effect appears, it indicates the systematic errors caused by poorly estimated camera parameters.   
\end{enumerate}

\subsection{Comparison}
%分三部分分别展示3组数据的结果
%3*2 methods:
%1张表表示6种方法的(1)和(2)，1张大图放6种方法的DoD, inlier tie pt图（R3D, DSM, ortho各3张（无点图，SIFT点图，SpG点图））

\subsubsection{Matches visualization}
For each dataset, each free epoch $E_f$ is matched with reference epoch $E_r$ for rough co-registration with 6 methods ($SIFT_{ImgPairs}$, $SuperGlue_{ImgPairs}$, $SIFT_{Ortho}$, $SuperGlue_{Ortho}$, $SIFT_{DSM}$ and $SuperGlue_{DSM}$), the matches are visualized and displayed together for comparison. In Table~\ref{succeedorfail} we displayed whether the 6 methods succeeded or failed on each dataset.\\
\begin{enumerate}
	\item For Fr{\'e}jus, the reference epoch is 2014, the matches visualizations between free epochs (i.e. epoch 1954, 1966 and 1970) and it are displayed in Figure~\ref{MatchVizFrejus1954DSM}, ~\ref{MatchVizFrejus1966DSM} and ~\ref{MatchVizFrejus1970DSM} individually. As can be seen, for all 3 free epochs:\\
	\begin{itemize}
		\item[-] $SIFT_{ImgPairs}$ and $SIFT_{Ortho}$ failed to recover correct matches. It is reasonable as extreme scene changes are present in Fr{\'e}jus, and SIFT is not sufficiently invariant over time by its very nature.
		\item[-] $SIFT_{DSM}$ found several good matches after RANSAC, thanks to stable information on DSMs. However, the inlier ratio is dangerously low (around 1\%), which makes the RANSAC procedure unstable.
		\item[-] $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$ succeeded to find enough good matches, with the inlier ratios ranging from 3.3\% to 46.5\%. In general, the inlier ratios raise from $SuperGlue_{ImgPairs}$ to $SuperGlue_{Ortho}$ then to $SuperGlue_{DSM}$.
	\end{itemize}
	%$SIFT_{ImgPairs}$, $SuperGlue_{ImgPairs}$, $SIFT_{Ortho}$, $SuperGlue_{Ortho}$, $SIFT_{DSM}$ and $SuperGlue_{DSM}$
	\item For Pezenas, there are 2 reference epochs:\\
	\begin{itemize}
	\item For aerial reference epoch 2015, the matches visualizations between free epochs (i.e. epoch 1971 and 1981) and it are displayed in Figure~\ref{MatchVizPezenas1971DSM} and ~\ref{MatchVizPezenas1981DSM}. As can be seen, for all 2 free epochs:\\
		\begin{itemize}
			\item[-] $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$ successfully recovered enough correct matches (with inlier ratios above 43\%, 1\% and 14\% individually). $SIFT_{Ortho}$ has obviously lower inlier ratio than $SIFT_{ImgPairs}$, because higher resolution is possessed by image pairs, which improves the result for dataset with moderate scene changes like Pezenas.
			\item[-] $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$ recovered more total matches along with generally higher inlier ratio than SIFT. The inlier ratio of $SuperGlue_{Ortho}$ is above 76\%, significantly larger than $SIFT_{Ortho}$, which we attribute to 2 reasons: (1) SuperGlue is more invariant over time as it is trained on multi-epoch images and (2) our tiling scheme. 
		\end{itemize}
	\item For satellite reference epoch 2014, the matches visualizations between free epochs (i.e. epoch 1971 and 1981) and it are shown in Figure~\ref{MatchVizPezenas-Satellite1971DSM} and ~\ref{MatchVizPezenas-Satellite1981DSM}. As can be seen:\\
		\begin{itemize}
			\item[-] The results are inferior than the ones on aerial reference epoch 2015, since satellite epoch has not only more limited common zone with the free epochs, especially for epoch 1971, but also covered with clouds.
			\item[-] $SIFT_{Ortho}$ failed on both free epochs, while $SIFT_{DSM}$ found enough good matches with inlier ratio around 4\%, as landscapes are more informative.
			\item[-] $SuperGlue_{Ortho}$ failed on epoch 1971 yet succeeded on epoch 1981, as larger common zone provides more clues in context to ensure the matching performance. $SuperGlue_{DSM}$ recovered more good matches with larger inlier ratio than $SIFT_{DSM}$ on both epochs.
		\end{itemize}
	\end{itemize}
	\item For Kobe, the reference epoch is 1995, the matches visualizations between free epoch (i.e. epoch 1991) and it are displayed in Figure~\ref{MatchVizKobe1991DSM}.
		\begin{itemize}
		\item[-] $SIFT_{ImgPairs}$ and $SIFT_{Ortho}$ failed while $SIFT_{DSM}$ performs well.
		\item[-] $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$ successfully found good matches with inlier ratio over 32\% .
	\end{itemize}
\end{enumerate}

\begin{table}[htbp]
	\scriptsize %\footnotesize
	\centering
	\begin{tabular}{||l|c|c|c|c|c|c||}\hline
		&\multicolumn{2}{c|}{ImgPairs} &\multicolumn{2}{c|}{Ortho} &\multicolumn{2}{c|}{DSM}\\\hline
		& SIFT & SuperGlue & SIFT & SuperGlue & SIFT & SuperGlue \\\hline\hline
		%& $SIFT_{ImgPairs}$ & $SIFT_{Ortho}$ & $SIFT_{DSM}$ & $SuperGlue_{ImgPairs}$ & $SuperGlue_{Ortho}$ & $SuperGlue_{DSM}$\\\hline
%		$Frejus_{2014}^{1954}$ & Fail & Fail & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} \\
%		$Frejus_{2014}^{1966}$ & Fail & Fail & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} \\
%		$Frejus_{2014}^{1970}$ & Fail & Fail & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} \\\hline
%		$Pezenas_{2015}^{1971}$ & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} \\
%		$Pezenas_{2015}^{1981}$ & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} \\\hline
%		$Pezenas_{2014(Satellite)}^{1971}$ & / & Fail & \textbf{Succeed} & / & Fail & \textbf{Succeed} \\
%		$Pezenas_{2014(Satellite)}^{1981}$ & / & Fail & \textbf{Succeed} & / & \textbf{Succeed} & \textbf{Succeed} \\\hline
%		$Frejus_{1995}^{1991}$ & Fail & Fail & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} & \textbf{Succeed} \\\hline
$Frejus_{2014}^{1954}$ &  Fail  &  \textbf{Succeed}  &  Fail  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed} \\
$Frejus_{2014}^{1966}$ &  Fail  &  \textbf{Succeed}  &  Fail  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed} \\
$Frejus_{2014}^{1970}$ &  Fail  &  \textbf{Succeed}  &  Fail  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed} \\\hline
$Pezenas_{2015}^{1971}$ &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed} \\
$Pezenas_{2015}^{1981}$ &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed} \\\hline
$Pezenas_{2014(Satellite)}^{1971}$ & / & / &  Fail  &  Fail  &  \textbf{Succeed}  &  \textbf{Succeed} \\
$Pezenas_{2014(Satellite)}^{1981}$ & / & / &  Fail  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed} \\\hline
$Frejus_{1995}^{1991}$ &  Fail  &  \textbf{Succeed}  &  Fail  &  \textbf{Succeed}  &  \textbf{Succeed}  &  \textbf{Succeed} \\\hline
	\end{tabular}
	\caption{Demonstration of 6 methods succeed or fail on each dataset.}
	\label{succeedorfail}
\end{table}

In conclusion:\\
\begin{itemize}
	\item SuperGlue works better than SIFT for all the 3 pipelines (\textit{ImgPairs}, \textit{Ortho}, \textit{DSM}). 
	\item \textit{DSM} gets better performance than \textit{ImgPairs} and \textit{Ortho}.
	\item \textit{ImgPairs} often gets more numerous matches as they have higher resolution than \textit{Ortho} and \textit{DSM}, which leads to lower efficiency. However the performance is not necessarily better.
\end{itemize}

%Generally speaking, \textit{DSM} gets better performance than \textit{ImgPairs} and \textit{Ortho}. The result of \textit{ImgPairs} is not bad on 
%总结：变化不大时，ImgPairs效果最好
%ImgPairs效率最低

\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Image pairs (19$\times$36 pairs)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.8cm]{images/Chapitre3/Pseudo-Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{ImgPairs})]{
    \begin{minipage}[t]{0.48\linewidth}
        \centering
        \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Pseudo-Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
    \end{minipage}%
}
        \subfigure[$SIFT_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.8cm]{images/Chapitre3/Pseudo-Homol-SIFT2Step_1954-2014-Rough-2DRANSAC-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.8cm]{images/Chapitre3/Pseudo-Homol-SuperGlue_1954-2014-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
%        \caption{Result of matching image pairs (i.e. \textit{ImgPairs}) of Fr{\'e}jus 1954 and 2014. (a) Image pairs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizFrejus1954ImgPairs}
%    \end{center}
%\end{figure*} 
%
%
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[Orthophotos]{
    \begin{minipage}[t]{0.48\linewidth}
        \centering
        \includegraphics[width=6.8cm]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
    \end{minipage}%
}
\subfigure[Number of recovered matches(\textit{Ortho})]{
    \begin{minipage}[t]{0.48\linewidth}
        \centering
        \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
    \end{minipage}%
}
        \subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.8cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.8cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_Ortho-MEC-Malt_Tapas_1954_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Fr{\'e}jus 1954 and 2014. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizFrejus1954Ortho}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[DSMs]{
    \begin{minipage}[t]{0.48\linewidth}
        \centering
        \includegraphics[width=6.8cm]{images/Chapitre3/MEC-Malt_Tapas_1954_MEC-Malt_2014.png}
    \end{minipage}%
}
\subfigure[Number of recovered matches(\textit{DSM})]{
    \begin{minipage}[t]{0.48\linewidth}
        \centering
        \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1954_MEC-Malt_2014.png}
    \end{minipage}%
}
        \subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.8cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1954_MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.8cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_MEC-Malt_Tapas_1954_MEC-Malt_2014.png}
            \end{minipage}%
        }
        %\caption{Result of matching DSMs (i.e. \textit{DSM}) of Fr{\'e}jus 1954 and 2014. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
        \caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching \textbf{Fr{\'e}jus 1954 and 2014}. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \label{MatchVizFrejus1954DSM}
    \end{center}
\end{figure*} 



\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Image pairs (15$\times$36 pairs)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.1cm]{images/Chapitre3/Pseudo-Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{ImgPairs})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Pseudo-Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6cm]{images/Chapitre3/Pseudo-Homol-SIFT2Step_1966-2014-Rough-2DRANSAC-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6cm]{images/Chapitre3/Pseudo-Homol-SuperGlue_1966-2014-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
%        \caption{Result of matching image pairs (i.e. \textit{ImgPairs}) of Fr{\'e}jus 1966 and 2014. (a) Image pairs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizFrejus1966ImgPairs}
%    \end{center}
%\end{figure*} 
%
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[Orthophotos]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.1cm]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{Ortho})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_Ortho-MEC-Malt_Tapas_1966_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Fr{\'e}jus 1966 and 2014. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizFrejus1966Ortho}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[DSMs]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6.1cm]{images/Chapitre3/MEC-Malt_Tapas_1966_MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{DSM})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1966_MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1966_MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=6cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_MEC-Malt_Tapas_1966_MEC-Malt_2014.png}
            \end{minipage}%
        }
        %\caption{Result of matching DSMs (i.e. \textit{DSM}) of Fr{\'e}jus 1966 and 2014. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
        %\caption{{\small Result of \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} on Fr{\'e}jus 1966 and 2014. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching \textbf{Fr{\'e}jus 1966 and 2014}. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \label{MatchVizFrejus1966DSM}
    \end{center}
\end{figure*} 



\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Image pairs (19$\times$36 pairs)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Pseudo-Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{ImgPairs})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Pseudo-Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.7cm]{images/Chapitre3/Pseudo-Homol-SIFT2Step_1970-2014-Rough-2DRANSAC-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.7cm]{images/Chapitre3/Pseudo-Homol-SuperGlue_1970-2014-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
%        \caption{Result of matching image pairs (i.e. \textit{ImgPairs}) of Fr{\'e}jus 1970 and 2014. (a) Image pairs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizFrejus1970ImgPairs}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[Orthophotos]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{Ortho})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.7cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.7cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_Ortho-MEC-Malt_Tapas_1970_Ortho-MEC-Malt_2014.png}
            \end{minipage}%
        }
%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Fr{\'e}jus 1970 and 2014. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizFrejus1970Ortho}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[DSMs]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/MEC-Malt_Tapas_1970_MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{DSM})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1970_MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.7cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1970_MEC-Malt_2014.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.7cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_MEC-Malt_Tapas_1970_MEC-Malt_2014.png}
            \end{minipage}%
        }
        %\caption{Result of matching DSMs (i.e. \textit{DSM}) of Fr{\'e}jus 1970 and 2014. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
        %\caption{{\small Result of \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} on Fr{\'e}jus 1970 and 2014. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching \textbf{Fr{\'e}jus 1970 and 2014}. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \label{MatchVizFrejus1970DSM}
    \end{center}
\end{figure*} 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%Pezenas Aerial
\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Image pairs (57$\times$382 pairs)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.1cm]{images/Chapitre3/Pseudo-Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{ImgPairs})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Pseudo-Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Pseudo-Homol-SIFT2Step_1971-2015-Rough-2DRANSAC-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Pseudo-Homol-SuperGlue_1971-2015-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
%        \caption{Result of matching image pairs (i.e. \textit{ImgPairs}) of Pezenas 1971 and 2015. (a) Image pairs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizPezenas1971ImgPairs}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[Orthophotos]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.1cm]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{Ortho})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Pezenas 1971 and 2015. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizPezenas1971Ortho}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[DSMs]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.1cm]{images/Chapitre3/MEC-Malt_Tapas_1971_MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{DSM})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1971_MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1971_MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_MEC-Malt_Tapas_1971_MEC-Malt_2015.png}
            \end{minipage}%
        }
        %\caption{Result of matching DSMs (i.e. \textit{DSM}) of Pezenas 1971 and 2015. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
        %\caption{{\small Result of \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} on Pezenas 1971 and 2015. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching \textbf{Pezenas 1971 and 2015}. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}        
        \label{MatchVizPezenas1971DSM}
    \end{center}
\end{figure*} 



\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Image pairs (27$\times$382 pairs)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.1cm]{images/Chapitre3/Pseudo-Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{ImgPairs})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Pseudo-Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Pseudo-Homol-SIFT2Step_1981-2015-Rough-2DRANSAC-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Pseudo-Homol-SuperGlue_1981-2015-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
%        \caption{Result of matching image pairs (i.e. \textit{ImgPairs}) of Pezenas 1981 and 2015. (a) Image pairs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizPezenas1981ImgPairs}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[Orthophotos]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.1cm]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{Ortho})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SubPatch_R90-2DRANSAC_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_2015.png}
            \end{minipage}%
        }
%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Pezenas 1981 and 2015. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizPezenas1981Ortho}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[DSMs]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.1cm]{images/Chapitre3/MEC-Malt_Tapas_1981_MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{DSM})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1981_MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1981_MEC-Malt_2015.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=5.2cm]{images/Chapitre3/Homol-SubPatch_R90-2DRANSAC_MEC-Malt_Tapas_1981_MEC-Malt_2015.png}
            \end{minipage}%
        }
        %\caption{Result of matching DSMs (i.e. \textit{DSM}) of Pezenas 1981 and 2015. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
        %\caption{{\small Result of \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} on Pezenas 1981 and 2015. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching \textbf{Pezenas 1981 and 2015}. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}        
        \label{MatchVizPezenas1981DSM}
    \end{center}
\end{figure*} 



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%Pezenas Satellite
\begin{figure*}[htbp]
	\begin{center}
		\subfigure[Orthophotos]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[Number of recovered matches(\textit{Ortho})]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=4.9cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_Ortho-MEC-Malt_Tapas_1971_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Pezenas 1971 and Satellite. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
		%        \label{MatchVizPezenas-Satellite1971Ortho}
		%    \end{center}
		%\end{figure*} 
		%
		%\begin{figure*}[htbp]
		%    \begin{center}
		\subfigure[DSMs]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/MEC-Malt_Tapas_1971_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[Number of recovered matches(\textit{DSM})]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=4.9cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1971_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1971_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SubPatch_R270-2DRANSAC_MEC-Malt_Tapas_1971_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		%\caption{Result of matching DSMs (i.e. \textit{DSM}) of Pezenas 1971 and Satellite. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
		%\caption{{\small Result of \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} on Pezenas 1971 and Satellite. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
		\caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching \textbf{Pezenas 1971 and Satellite}. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}        
		\label{MatchVizPezenas-Satellite1971DSM}
	\end{center}
\end{figure*} 



\begin{figure*}[htbp]
	\begin{center}
		\subfigure[Orthophotos]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[Number of recovered matches(\textit{Ortho})]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=4.9cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SubPatch_R90-2DRANSAC_Ortho-MEC-Malt_Tapas_1981_Ortho-MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Pezenas 1981 and Satellite. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
		%        \label{MatchVizPezenas-Satellite1981Ortho}
		%    \end{center}
		%\end{figure*} 
		%
		%\begin{figure*}[htbp]
		%    \begin{center}
		\subfigure[DSMs]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/MEC-Malt_Tapas_1981_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[Number of recovered matches(\textit{DSM})]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=4.9cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1981_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1981_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		\subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
			\begin{minipage}[t]{0.48\linewidth}
				\centering
				\includegraphics[width=6.8cm]{images/Chapitre3/Homol-SubPatch_R90-2DRANSAC_MEC-Malt_Tapas_1981_MEC-Malt_Satellite.png}
			\end{minipage}%
		}
		%\caption{Result of matching DSMs (i.e. \textit{DSM}) of Pezenas 1981 and Satellite. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
		%\caption{{\small Result of \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} on Pezenas 1981 and Satellite. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
		\caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching \textbf{Pezenas 1981 and Satellite}. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}        
		\label{MatchVizPezenas-Satellite1981DSM}
	\end{center}
\end{figure*} 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%Kobe

\begin{figure*}[htbp]
    \begin{center}
        \subfigure[Image pairs (15$\times$83 pairs)]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.3cm,angle=90]{images/Chapitre3/Pseudo-Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{ImgPairs})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Pseudo-Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }   
        \subfigure[$SIFT_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.6cm,angle=90]{images/Chapitre3/Pseudo-Homol-SIFT2Step_1991-1994-Rough-2DRANSAC-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{ImgPairs}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.6cm,angle=90]{images/Chapitre3/Pseudo-Homol-SuperGlue_1991-1994-GlobalR3D-PileImg_Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
%        \caption{Result of matching image pairs (i.e. \textit{ImgPairs}) of Kobe 1991 and 1995. (a) Image pairs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizKobe1991ImgPairs}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[Orthophotos]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.3cm,angle=90]{images/Chapitre3/Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{Ortho})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }   
        \subfigure[$SIFT_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.6cm,angle=90]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{Ortho}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.6cm,angle=90]{images/Chapitre3/Homol-SubPatch-2DRANSAC_Ortho-MEC-Malt_Tapas_1991_Ortho-MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
%        \caption{Result of matching orthophotos (i.e. \textit{Ortho}) of Kobe 1991 and 1995. (a) Orthophotos to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
%        \label{MatchVizKobe1991Ortho}
%    \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%    \begin{center}
        \subfigure[DSMs]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.3cm,angle=90]{images/Chapitre3/MEC-Malt_Tapas_1991_MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        \subfigure[Number of recovered matches(\textit{DSM})]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=3.5cm,trim=0 20 0 38,clip]{images/Chapitre3/PlotCurves_MEC-Malt_Tapas_1991_MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        \subfigure[$SIFT_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.6cm,angle=90]{images/Chapitre3/Homol-SIFT2Step-Rough-2DRANSAC_MEC-Malt_Tapas_1991_MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        \subfigure[$SuperGlue_{DSM}^{RANSAC Inliers}$]{
            \begin{minipage}[t]{0.48\linewidth}
                \centering
                \includegraphics[width=2.6cm,angle=90]{images/Chapitre3/Homol-SubPatch-2DRANSAC_MEC-Malt_Tapas_1991_MEC-Malt_Tapas_1994.png}
            \end{minipage}%
        }
        %\caption{Result of matching DSMs (i.e. \textit{DSM}) of Kobe 1991 and 1995. (a) DSMs to be matched, with red rectangles indicating the common zone. (b) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue. (c) Visualization of RANSAC inliers based on SIFT. (d) Visualization of RANSAC inliers based on SuperGlue.}
        %\caption{{\small Result of \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} on Kobe 1991 and 1995. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}
        \caption{{\scriptsize Result of \textit{ImgPairs} (a-d), \textit{Ortho} (e-h) and \textit{DSM} (i-l) on matching Kobe 1991 and 1995. (a, e, i) image pairs/orthophotos/DSMs to be matched, with red rectangles indicating the common zone. (b, f, j) Numbers of total matches and RANSAC inliers of both SIFT and SuperGlue on methods \textit{ImgPairs}, \textit{Ortho} and \textit{DSM} individually. (c, g, k) Visualization of RANSAC inliers based on $SIFT_{ImgPairs}$, $SIFT_{Ortho}$ and $SIFT_{DSM}$. (d, h, l) Visualization of RANSAC inliers based on $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$.}}        
        \label{MatchVizKobe1991DSM}
    \end{center}
\end{figure*} 




%As can be seen, 


%\subsubsection{Ground check points}
%
%\begin{table}%[H]
%	\footnotesize
%	\centering
%	\begin{tabular}{|l|cccccc|}\hline
%		&\multicolumn{6}{c}{$|\mu|$ [m]}\\\hline
%		&\multicolumn{2}{c}{ImgPairs} &\multicolumn{2}{c}{Ortho} &\multicolumn{2}{c|}{DSM}\\\hline
%		& SIFT & SuperGlue & SIFT & SuperGlue & SIFT & SuperGlue \\\hline\hline
%		$Frejus_{2014}^{1954}$ & 1380.16 & 29.29 & 2509.13 & 34.84 & 36.58 & \textbf{10.72}\\\hline
%		$Frejus_{2014}^{1966}$ & 1686.56 & 18.15 & 4386.53 & 11.98 & 19.54 & \textbf{10.43}\\\hline
%		$Frejus_{2014}^{1970}$ & 997.83 & 11.09 & 4404.15 & 16.87 & \textbf{8.65} & 10.23\\\hline\hline
%		
%		$Pezenas_{2015}^{1971}$ & 7.03 & ? & 31.68 & 10.85 & 9.15 & \textbf{8.52} \\\hline
%		$Pezenas_{2015}^{1981}$ & \textbf{5.48} & 5.76 & 7.63 & 8.73 & 10.23 & 6.76 \\\hline
%		
%		$Kobe_{1995}^{1991}$ & 369.34 & 3.33 & 68.51 & 4.03 & 4.68 & \textbf{3.31} \\\hline
%	\end{tabular}
%	\caption{Accuracy of 6 sets of co-registered orientations resulting from 6 methods, evaluated on 3 check points uniformly distributed in the block. Absolute average value $|\mu|$ is displayed for each method.}
%	\label{CheckptAcuracy}
%\end{table}



\subsubsection{DoD}
According to Table~\ref{succeedorfail}, by applying 6 methods (or 4 methods for satellite images) on each free epoch and the reference epoch, we got 44 testing cases. Among all the cases, there are 33 of them succeeded, which leads to 33 sets of co-registered orientations. For each set of resulted orientations, we use them to calculate DSMs in free epoch and reference epoch individually in order to generate DoD. 
The visualization of DoDs are demonstrated in Figure~\ref{DoDFrejus}, ~\ref{DoDPezenas}, ~\ref{DoDPezenas-Satellite} and ~\ref{DoDKobe}.
The statistical information of the 33 DoDs are displayed in Table~\ref{DoDStatistic}.\\
As can be seen, dome effect is present in all the DoDs. This is because the camera parameters are estimated within the same epoch, therefore the deformation of historical images inevitably leads to unsatisfactory results. This is acceptable for rough co-registration as our goal is only to provide guidance for precise matching.

\begin{figure*}[htbp]
    \begin{center}
        \subfigure[DoD$_{Frejus1954}^{SuperGlue_{ImgPairs}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                %left, lower, right, up
                \includegraphics[width=3.3cm,trim=680 80 110 220,clip]{images/Chapitre3/DoD1954R3D-SuperGlue.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1954}^{SuperGlue_{Ortho}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=680 80 110 220,clip]{images/Chapitre3/DoD1954Ortho-SuperGlue.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1954}^{SuperGlue_{DSM}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=680 80 110 220,clip]{images/Chapitre3/DoD1954DSM-SuperGlue.png}
            \end{minipage}%
        }
        
        \subfigure[DoD$_{Frejus1954}^{SIFT_{ImgPairs}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                %left, lower, right, up
                \includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1954}^{SIFT_{Ortho}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1954}^{SIFT_{DSM}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=680 80 110 220,clip]{images/Chapitre3/DoD1954DSM-SIFT.png}
            \end{minipage}%
        }
%       \caption{DoDs of SuperGlue and SIFT on dataset Fr{\'e}jus (epoch 1954). The prohibition sign means the corresponding method failed.}
%       \label{Frejus DoD of SuperGlue}
%   \end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%   \begin{center}
        \subfigure[DoD$_{Frejus1966}^{SuperGlue_{ImgPairs}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                %left, lower, right, up
                \includegraphics[width=3.3cm,trim=730 120 50 260,clip]{images/Chapitre3/DoD1966R3D-SuperGlue.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1966}^{SuperGlue_{Ortho}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=730 120 50 260,clip]{images/Chapitre3/DoD1966Ortho-SuperGlue.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1966}^{SuperGlue_{DSM}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=730 120 50 260,clip]{images/Chapitre3/DoD1966DSM-SuperGlue.png}
            \end{minipage}%
        }
        
        
        \subfigure[DoD$_{Frejus1966}^{SIFT_{ImgPairs}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                %left, lower, right, up
                \includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1966}^{SIFT_{Ortho}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1966}^{SIFT_{DSM}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=730 120 50 260,clip]{images/Chapitre3/DoD1966DSM-SIFT.png}
            \end{minipage}%
        }       
%       \caption{DoDs of SuperGlue and SIFT on dataset Fr{\'e}jus (epoch 1966). The prohibition sign means the corresponding method failed.}
%\label{Frejus DoD of SuperGlue}
%\end{center}
%\end{figure*} 
%
%\begin{figure*}[htbp]
%\begin{center}     
        \subfigure[DoD$_{Frejus1970}^{SuperGlue_{ImgPairs}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                %left, lower, right, up
                \includegraphics[width=3.3cm,trim=680 180 50 260,clip]{images/Chapitre3/DoD1970R3D-SuperGlue.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1970}^{SuperGlue_{Ortho}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=680 180 50 260,clip]{images/Chapitre3/DoD1970Ortho-SuperGlue.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1970}^{SuperGlue_{DSM}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=680 180 50 260,clip]{images/Chapitre3/DoD1970DSM-SuperGlue.png}
            \end{minipage}%
        }
        
        \subfigure[DoD$_{Frejus1970}^{SIFT_{ImgPairs}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                %left, lower, right, up
                \includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1970}^{SIFT_{Ortho}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
            \end{minipage}%
        }
        \subfigure[DoD$_{Frejus1970}^{SIFT_{DSM}}$]{
            \begin{minipage}[t]{0.31\linewidth}
                \centering
                \includegraphics[width=3.3cm,trim=680 180 50 260,clip]{images/Chapitre3/DoD1970DSM-SIFT.png}
            \end{minipage}%
        }
        
        \subfigure[DoD legend]{
            \begin{minipage}[t]{1\linewidth}
                \centering
                \includegraphics[width=11cm]{images/Chapitre3/LegendDoD.png}
            \end{minipage}%
        }
        %\caption{DoDs of SuperGlue and SIFT on dataset Fr{\'e}jus (epoch 1970). The prohibition sign means the corresponding method failed.}
        \caption{{\scriptsize DoDs between free epoch \textbf{Fr{\'e}jus 1954, 1966, 1970} and reference epoch 2014 with methods $SuperGlue_{ImgPairs}$ (a, g, m), $SuperGlue_{Ortho}$ (b, h, n), $SuperGlue_{DSM}$ (c, i, o), $SIFT_{ImgPairs}$ (d, j, p), $SIFT_{Ortho}$ (e, k, q) and $SIFT_{DSM}$ (f, l, r). The prohibition sign means the corresponding method failed.}}
        \label{DoDFrejus}
    \end{center}
\end{figure*} 



\begin{figure*}[htbp]
	\begin{center}
		\subfigure[DoD$_{Pezenas1971}^{SuperGlue_{ImgPairs}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				%left, lower, right, up
				\includegraphics[width=4.2cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971R3D-SuperGlue.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1971}^{SuperGlue_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971Ortho-SuperGlue.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1971}^{SuperGlue_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971DSM-SuperGlue.png}
			\end{minipage}%
		}
		
		\subfigure[DoD$_{Pezenas1971}^{SIFT_{ImgPairs}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				%left, lower, right, up
				\includegraphics[width=4.2cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971R3D-SIFT.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1971}^{SIFT_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971Ortho-SIFT.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1971}^{SIFT_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971DSM-SIFT.png}
			\end{minipage}%
		}
		
		\subfigure[DoD$_{Pezenas1981}^{SuperGlue_{ImgPairs}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				%left, lower, right, up
				\includegraphics[width=4.2cm,trim=720 100 50 200,clip]{images/Chapitre3/DoD1981R3D-SuperGlue.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1981}^{SuperGlue_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=720 100 50 200,clip]{images/Chapitre3/DoD1981Ortho-SuperGlue.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1981}^{SuperGlue_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=720 100 50 200,clip]{images/Chapitre3/DoD1981DSM-SuperGlue.png}
			\end{minipage}%
		}
		
		\subfigure[DoD$_{Pezenas1981}^{SIFT_{ImgPairs}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				%left, lower, right, up
				\includegraphics[width=4.2cm,trim=720 100 50 200,clip]{images/Chapitre3/DoD1981R3D-SIFT.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1981}^{SIFT_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=720 100 50 200,clip]{images/Chapitre3/DoD1981Ortho-SIFT.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1981}^{SIFT_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=720 100 50 200,clip]{images/Chapitre3/DoD1981DSM-SIFT.png}
			\end{minipage}%
		}
		
		
		\subfigure[DoD legend]{
			\begin{minipage}[t]{1\linewidth}
				\centering
				\includegraphics[width=11cm]{images/Chapitre3/LegendDoD.png}
			\end{minipage}%
		}
        \caption{{\scriptsize DoDs between free epoch \textbf{Pezenas 1971, 1981} and reference aerial epoch \textbf{2015} with methods $SuperGlue_{ImgPairs}$ (a, g), $SuperGlue_{Ortho}$ (b, h), $SuperGlue_{DSM}$ (c, i), $SIFT_{ImgPairs}$ (d, j), $SIFT_{Ortho}$ (e, k) and $SIFT_{DSM}$ (f, l). The prohibition sign means the corresponding method failed.}}
		\label{DoDPezenas}
	\end{center}
\end{figure*} 


\begin{figure*}[htbp]
	\begin{center}
		\subfigure[DoD$_{Pezenas1971}^{SuperGlue_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				%\includegraphics[width=4.5cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971Ortho-SuperGlue-Satellite.png}
				\includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1971}^{SuperGlue_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.5cm,trim=680 80 50 230,clip]{images/Chapitre3/DoD1971DSM-SuperGlue-Satellite.png}
			\end{minipage}%
		}\\
		
		\subfigure[DoD$_{Pezenas1971}^{SIFT_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1971}^{SIFT_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=720 100 50 200,clip]{images/Chapitre3/DoD1971DSM-SIFT-Satellite.png}
			\end{minipage}%
		}\\
		
		\subfigure[DoD$_{Pezenas1981}^{SuperGlue_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=900 100 250 200,clip]{images/Chapitre3/DoD1981Ortho-SuperGlue-Satellite.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1981}^{SuperGlue_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=900 100 250 200,clip]{images/Chapitre3/DoD1981DSM-SuperGlue-Satellite.png}
			\end{minipage}%
		}\\
		
		
		\subfigure[DoD$_{Pezenas1981}^{SIFT_{Ortho}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
			\end{minipage}%
		}
		\subfigure[DoD$_{Pezenas1981}^{SIFT_{DSM}}$]{
			\begin{minipage}[t]{0.31\linewidth}
				\centering
				\includegraphics[width=4.2cm,trim=900 100 250 200,clip]{images/Chapitre3/DoD1981DSM-SIFT-Satellite.png}
			\end{minipage}%
		}\\
		
		
		\subfigure[DoD legend]{
			\begin{minipage}[t]{1\linewidth}
				\centering
				\includegraphics[width=11cm]{images/Chapitre3/LegendDoD.png}
			\end{minipage}%
		}
		\caption{{\scriptsize DoDs between free epoch \textbf{Pezenas 1971, 1981} and reference satellite epoch \textbf{2014} with methods $SuperGlue_{Ortho}$ (a, e), $SuperGlue_{DSM}$ (b, f), $SIFT_{Ortho}$ (c, g) and $SIFT_{DSM}$ (d, h). The holes among them are areas covered with clouds which are masked out. The prohibition sign means the corresponding method failed.}}
		\label{DoDPezenas-Satellite}
	\end{center}
\end{figure*} 


\begin{figure*}[htbp]
	\begin{center}
        \subfigure[DoD$_{Kobe}^{SuperGlue_{ImgPairs}}$]{
	\begin{minipage}[t]{1\linewidth}
		\centering
		%left, lower, right, up
		\includegraphics[width=12cm,trim=700 450 180 560,clip]{images/Chapitre3/DoD1991R3D-SuperGlue.png}
	\end{minipage}%
}
\subfigure[DoD$_{Kobe}^{SuperGlue_{Ortho}}$]{
	\begin{minipage}[t]{1\linewidth}
		\centering
		\includegraphics[width=12cm,trim=700 450 180 560,clip]{images/Chapitre3/DoD1991Ortho-SuperGlue.png}
	\end{minipage}%
}
\subfigure[DoD$_{Kobe}^{SuperGlue_{DSM}}$]{
	\begin{minipage}[t]{1\linewidth}
		\centering
		\includegraphics[width=12cm,trim=700 450 180 560,clip]{images/Chapitre3/DoD1991DSM-SuperGlue.png}
	\end{minipage}%
}

\subfigure[DoD$_{Kobe}^{SIFT_{ImgPairs}}$]{
	\begin{minipage}[t]{1\linewidth}
		\centering
		%left, lower, right, up
		\includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
	\end{minipage}%
}
\subfigure[DoD$_{Kobe}^{SIFT_{Ortho}}$]{
	\begin{minipage}[t]{1\linewidth}
		\centering
		\includegraphics[width=2cm]{images/Chapitre3/NoDoD.png}
	\end{minipage}%
}
\subfigure[DoD$_{Kobe}^{SIFT_{DSM}}$]{
	\begin{minipage}[t]{1\linewidth}
		\centering
		\includegraphics[width=12cm,trim=700 450 180 560,clip]{images/Chapitre3/DoD1991DSM-SIFT.png}
	\end{minipage}%
}

		\subfigure[DoD legend]{
			\begin{minipage}[t]{1\linewidth}
				\centering
				\includegraphics[width=11cm]{images/Chapitre3/LegendDoD.png}
			\end{minipage}%
		}
        \caption{{\scriptsize DoDs between free epoch \textbf{Kobe 1991} and reference epoch 1995 with methods $SuperGlue_{ImgPairs}$ (a), $SuperGlue_{Ortho}$ (b), $SuperGlue_{DSM}$ (c), $SIFT_{ImgPairs}$ (d), $SIFT_{Ortho}$ (e) and $SIFT_{DSM}$ (f). The prohibition sign means the corresponding method failed.}}
		\label{DoDKobe}
	\end{center}
\end{figure*} 


\begin{table}%[H]
	\footnotesize
	\centering
	\begin{tabular}{||l|l|c|c|c||}\hline
		& &$\mu$ [m]&$\sigma$ [m]&$|\mu|$ [m]\\\hline\hline
        \multirow{6}{*}{$DoD^{Frejus}_{1954-2014}$}
&${SuperGlue_{ImgPairs}}$ & 5.70 & 6.32 & 6.62\\
&${SuperGlue_{Ortho}}$ & 2.19 & 6.46 & 4.55\\
&${SuperGlue_{DSM}}$ & 2.07 & 4.87 & \textbf{3.83} \\
&${SIFT_{ImgPairs}}$ & / & / & / \\
&${SIFT_{Ortho}}$ & / & / & / \\
&${SIFT_{DSM}}$ & 6.92 & 8.47 & 8.04\\\hline

\multirow{6}{*}{$DoD^{Frejus}_{1966-2014}$}
&${SuperGlue_{ImgPairs}}$ & -1.36 & 3.82 & 2.90\\
&${SuperGlue_{Ortho}}$ & -0.37 & 4.22 & 3.01\\
&${SuperGlue_{DSM}}$ & -0.46 & 3.77 & \textbf{2.68}\\
&${SIFT_{ImgPairs}}$ & / & / & / \\
&${SIFT_{Ortho}}$ & / & / & / \\
&${SIFT_{DSM}}$ & -1.72 & 4.92 & 3.75\\\hline

\multirow{6}{*}{$DoD^{Frejus}_{1970-2014}$}
&${SuperGlue_{ImgPairs}}$ & -5.04 & 5.09 & 5.70\\
&${SuperGlue_{Ortho}}$ & -2.63 & 5.18 & \textbf{4.39}\\
&${SuperGlue_{DSM}}$ & -1.71 & 5.75 & 4.61\\
&${SIFT_{ImgPairs}}$ & / & / & / \\
&${SIFT_{Ortho}}$ & / & / & / \\
&${SIFT_{DSM}}$ & -3.17 & 5.44 & 4.71\\\hline


\multirow{6}{*}{$DoD^{Pezenas}_{1971-2015}$}
&${SuperGlue_{ImgPairs}}$ & -7.42 & 16.60 & 13.78\\
&${SuperGlue_{Ortho}}$ & -8.46 & 22.36 & 16.68\\
&${SuperGlue_{DSM}}$ & 4.71 & 16.85 & 14.20\\
&${SIFT_{ImgPairs}}$ & 2.77 & 16.58 & 13.98\\
&${SIFT_{Ortho}}$ & -8.05 & 21.71 & 17.07\\
&${SIFT_{DSM}}$ & -0.75 & 17.75 & \textbf{13.74}\\\hline

\multirow{6}{*}{$DoD^{Pezenas}_{1981-2015}$}
&${SuperGlue_{ImgPairs}}$ & -0.39 & 9.12 & \textbf{7.10}\\
&${SuperGlue_{Ortho}}$ & -2.60 & 9.93 & 7.76\\
&${SuperGlue_{DSM}}$ & 0.64 & 9.15 & 7.24\\
&${SIFT_{ImgPairs}}$ & -2.01 & 10.07 & 7.80\\
&${SIFT_{Ortho}}$ & -4.80 & 13.25 & 10.33\\
&${SIFT_{DSM}}$ & -0.73 & 9.67 & 7.42\\\hline

%%%%%%%%%%%%%%%%%%%%%%%%satellite
\multirow{4}{*}{$DoD^{Pezenas}_{1971-2014(Satellite)}$}
&${SuperGlue_{Ortho}}$ & / & / & /\\
&${SuperGlue_{DSM}}$ & -3.70 & 10.65 & 8.29\\
%&${SuperGlue_{DSM}}$ & -1.85 & 13.24 & 9.15\\
&${SIFT_{Ortho}}$ & / & / & /\\
&${SIFT_{DSM}}$ & -0.25 & 4.95 & \textbf{2.15}\\\hline
%&${SIFT_{DSM}}$ & 0.58 & 7.82 & \textbf{3.18}\\\hline

\multirow{4}{*}{$DoD^{Pezenas}_{1981-2014(Satellite)}$}
&${SuperGlue_{Ortho}}$ & -0.64 & 6.18 & 4.48\\
%&${SuperGlue_{Ortho}}$ & 0.59 & 9.87 & 5.66\\
&${SuperGlue_{DSM}}$ & -1.15 & 6.07 & 4.55\\
%&${SuperGlue_{DSM}}$ & 0.31 & 9.88 & 5.73\\
&${SIFT_{Ortho}}$ & / & / & /\\
&${SIFT_{DSM}}$ & -0.52 & 3.78 & \textbf{1.63} \\\hline
%&${SIFT_{DSM}}$ & 0.46 & 5.96 & \textbf{1.92}\\\hline


\multirow{6}{*}{$DoD^{Kobe}_{1991-1995}$}
&${SuperGlue_{ImgPairs}}$ & -1.63 & 13.85 & \textbf{7.24}\\
%&${SIFT_{ImgPairs}}$ & 167.46 & 121.26 & 168.47\\
&${SuperGlue_{Ortho}}$ & -0.54 & 14.83 & 7.78\\
%&${SIFT_{Ortho}}$ & 4.29 & 41.89 & 26.01\\
&${SuperGlue_{DSM}}$ & -0.75 & 14.62 & 7.95\\
&${SIFT_{ImgPairs}}$ & / & / & / \\
&${SIFT_{Ortho}}$ & / & / & / \\
&${SIFT_{DSM}}$ & 0.27 & 14.40 & 7.57\\\hline
	
\end{tabular}
\caption{Average value $\mu$, standard deviation $\sigma$, and absolute average value $|\mu|$ of all the DoDs in Figure~\ref{DoDFrejus}, ~\ref{DoDPezenas}, ~\ref{DoDPezenas-Satellite} and ~\ref{DoDKobe}.}
\label{DoDStatistic}
\end{table}


%\begin{table}%[H]
%	\footnotesize
%	\centering
%	\begin{tabular}{||l|c|c|c||}\hline
%		&$\mu$ [m]&$\sigma$ [m]&$|\mu|$ [m]\\\hline\hline
%		DoD$_{Frejus1954}^{SuperGlue_{ImgPairs}}$ & 5.70 & 6.32 & 6.62\\
%		DoD$_{Frejus1954}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		DoD$_{Frejus1954}^{SuperGlue_{Ortho}}$ & 2.19 & 6.46 & 4.55\\
%		DoD$_{Frejus1954}^{SIFT_{Ortho}}$ & / & / & / \\
%		DoD$_{Frejus1954}^{SuperGlue_{DSM}}$ & 2.07 & 4.87 & \textbf{3.83} \\
%		DoD$_{Frejus1954}^{SIFT_{DSM}}$ & 6.92 & 8.47 & 8.04\\\hline
%		
%		DoD$_{Frejus1966}^{SuperGlue_{ImgPairs}}$ & -1.36 & 3.82 & 2.90\\
%		DoD$_{Frejus1966}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		DoD$_{Frejus1966}^{SuperGlue_{Ortho}}$ & -0.37 & 4.22 & 3.01\\
%		DoD$_{Frejus1966}^{SIFT_{Ortho}}$ & / & / & / \\
%		DoD$_{Frejus1966}^{SuperGlue_{DSM}}$ & -0.46 & 3.77 & \textbf{2.68}\\
%		DoD$_{Frejus1966}^{SIFT_{DSM}}$ & -1.72 & 4.92 & 3.75\\\hline
%		
%		DoD$_{Frejus1970}^{SuperGlue_{ImgPairs}}$ & -5.04 & 5.09 & 5.70\\
%		DoD$_{Frejus1970}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		DoD$_{Frejus1970}^{SuperGlue_{Ortho}}$ & -2.63 & 5.18 & \textbf{4.39}\\
%		DoD$_{Frejus1970}^{SIFT_{Ortho}}$ & / & / & / \\
%		DoD$_{Frejus1970}^{SuperGlue_{DSM}}$ & -1.71 & 5.75 & 4.61\\
%		DoD$_{Frejus1970}^{SIFT_{DSM}}$ & -3.17 & 5.44 & 4.71\\\hline
%		
%		
%		
%		DoD$_{Pezenas1971}^{SuperGlue_{ImgPairs}}$ & / &/ &/ \\
%		DoD$_{Pezenas1971}^{SIFT_{ImgPairs}}$ & 2.77 & 16.58 & 13.98\\
%		DoD$_{Pezenas1971}^{SuperGlue_{Ortho}}$ & -8.46 & 22.36 & 16.68\\
%		DoD$_{Pezenas1971}^{SIFT_{Ortho}}$ & -8.05 & 21.71 & 17.07\\
%		DoD$_{Pezenas1971}^{SuperGlue_{DSM}}$ & 4.71 & 16.85 & 14.20\\
%		DoD$_{Pezenas1971}^{SIFT_{DSM}}$ & -0.75 & 17.75 & \textbf{13.74}\\\hline
%		
%		DoD$_{Pezenas1981}^{SuperGlue_{ImgPairs}}$ & -0.39 & 9.12 & \textbf{7.10}\\
%		DoD$_{Pezenas1981}^{SIFT_{ImgPairs}}$ & -2.01 & 10.07 & 7.80\\
%		DoD$_{Pezenas1981}^{SuperGlue_{Ortho}}$ & -2.60 & 9.93 & 7.76\\
%		DoD$_{Pezenas1981}^{SIFT_{Ortho}}$ & -4.80 & 13.25 & 10.33\\
%		DoD$_{Pezenas1981}^{SuperGlue_{DSM}}$ & 0.64 & 9.15 & 7.24\\
%		DoD$_{Pezenas1981}^{SIFT_{DSM}}$ & -0.73 & 9.67 & 7.42\\\hline
%		
%		
%		DoD$_{Kobe1991}^{SuperGlue_{ImgPairs}}$ & -1.63 & 13.85 & \textbf{7.24}\\
%		DoD$_{Kobe1991}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		%DoD$_{Kobe1991}^{SIFT_{ImgPairs}}$ & 167.46 & 121.26 & 168.47\\
%		DoD$_{Kobe1991}^{SuperGlue_{Ortho}}$ & -0.54 & 14.83 & 7.78\\
%		DoD$_{Kobe1991}^{SIFT_{Ortho}}$ & / & / & / \\
%		%DoD$_{Kobe1991}^{SIFT_{Ortho}}$ & 4.29 & 41.89 & 26.01\\
%		DoD$_{Kobe1991}^{SuperGlue_{DSM}}$ & -0.75 & 14.62 & 7.95\\
%		DoD$_{Kobe1991}^{SIFT_{DSM}}$ & 0.27 & 14.40 & 7.57\\\hline
%
%\end{tabular}
%\caption{Average value $\mu$, standard deviation $\sigma$, and absolute average value $|\mu|$ of all the DoDs in Figure~\ref{DoDFrejus}, ~\ref{DoDPezenas} and ~\ref{DoDKobe}.}
%\label{CheckptAcuracy}
%\end{table}


%old
%\begin{table}%[H]
%	\footnotesize
%	\centering
%	\begin{tabular}{||l|c|c|c||}\hline
%		&$\mu$ [m]&$\sigma$ [m]&$|\mu|$ [m]\\\hline\hline
%		DoD$_{Frejus1954}^{SuperGlue_{ImgPairs}}$ & 5.70 & 6.32 & 6.62\\
%		DoD$_{Frejus1954}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		DoD$_{Frejus1954}^{SuperGlue_{Ortho}}$ & 2.19 & 6.46 & 4.55\\
%		DoD$_{Frejus1954}^{SIFT_{Ortho}}$ & / & / & / \\
%		DoD$_{Frejus1954}^{SuperGlue_{DSM}}$ & 2.07 & 4.87 & \textbf{3.83}\\
%		DoD$_{Frejus1954}^{SIFT_{DSM}}$ & / & / & / \\\hline
%		DoD$_{Frejus1966}^{SuperGlue_{ImgPairs}}$ & -1.36 & 3.82 & 2.90\\
%		DoD$_{Frejus1966}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		DoD$_{Frejus1966}^{SuperGlue_{Ortho}}$ & -0.37 & 4.22 & 3.01\\
%		DoD$_{Frejus1966}^{SIFT_{Ortho}}$ & / & / & / \\
%		DoD$_{Frejus1966}^{SuperGlue_{DSM}}$ & -0.46 & 3.77 & \textbf{2.68}\\
%		DoD$_{Frejus1966}^{SIFT_{DSM}}$ & / & / & / \\\hline
%		DoD$_{Frejus1970}^{SuperGlue_{ImgPairs}}$ & -5.04 & 5.09 & 5.70\\
%		DoD$_{Frejus1970}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		DoD$_{Frejus1970}^{SuperGlue_{Ortho}}$ & -2.63 & 5.18 & \textbf{4.39}\\
%		DoD$_{Frejus1970}^{SIFT_{Ortho}}$ & / & / & / \\
%		DoD$_{Frejus1970}^{SuperGlue_{DSM}}$ & -1.71 & 5.75 & 4.61\\
%		DoD$_{Frejus1970}^{SIFT_{DSM}}$ & / & / & / \\\hline
%		
%		DoD$_{Pezenas1971}^{SuperGlue_{ImgPairs}}$ & / &/ &/ \\
%		DoD$_{Pezenas1971}^{SIFT_{ImgPairs}}$ & 2.77 & 16.58 & 13.98\\
%		DoD$_{Pezenas1971}^{SuperGlue_{Ortho}}$ & -8.46 & 22.36 & 16.68\\
%		DoD$_{Pezenas1971}^{SIFT_{Ortho}}$ & / &/ &/ \\
%		DoD$_{Pezenas1971}^{SuperGlue_{DSM}}$ & 4.71 & 16.85 & 14.20\\
%		DoD$_{Pezenas1971}^{SIFT_{DSM}}$ & -9.60 & 22.02 & 16.78\\\hline
%		
%		DoD$_{Pezenas1981}^{SuperGlue_{ImgPairs}}$ & -0.39 & 9.12 & 7.10\\
%		DoD$_{Pezenas1981}^{SIFT_{ImgPairs}}$ & -2.01 & 10.07 & 7.80\\
%		DoD$_{Pezenas1981}^{SuperGlue_{Ortho}}$ & -2.60 & 9.93 & 7.76\\
%		DoD$_{Pezenas1981}^{SIFT_{Ortho}}$ & / &/ &/ \\
%		DoD$_{Pezenas1981}^{SuperGlue_{DSM}}$ & 0.64 & 9.15 & 7.24\\
%		DoD$_{Pezenas1981}^{SIFT_{DSM}}$ & -3.31 & 10.54 & 8.14\\\hline
%		
%		DoD$_{Kobe1991}^{SuperGlue_{ImgPairs}}$ & -1.36 & 13.82 & 7.24\\
%		DoD$_{Kobe1991}^{SIFT_{ImgPairs}}$ & / & / & / \\
%		DoD$_{Kobe1991}^{SuperGlue_{Ortho}}$ & -0.54 & 14.83 & 7.78\\
%		DoD$_{Kobe1991}^{SIFT_{Ortho}}$ & / & / & / \\
%		DoD$_{Kobe1991}^{SuperGlue_{DSM}}$ & -2.12 & 14.21 & 7.45\\
%		DoD$_{Kobe1991}^{SIFT_{DSM}}$ & -1.78 & 13.95 & 7.26\\\hline
%		
%	\end{tabular}
%	\caption{Average value $\mu$, standard deviation $\sigma$, and absolute average value $|\mu|$ of all the DoDs in Figure~\ref{Frejus DoD of SuperGlue}.}
%	\label{CheckptAcuracy}
%\end{table}



\section{Conclusion}
We provide 2 strategies for multi-epoch rough co-registration: (1) match image pairs (i.e. pipeline \textit{ImgPairs}) and (2) match orthophotos/DSMs (i.e. pipelines \textit{Ortho} and \textit{DSM}).
For each pipelines, we tested 2 feature matching methods (SIFT and SuperGlue), which leads to 6 methods ($SIFT_{ImgPairs}$, $SIFT_{Ortho}$, $SIFT_{DSM}$, $SuperGlue_{ImgPairs}$, $SuperGlue_{Ortho}$ and $SuperGlue_{DSM}$).
We applied all the 6 methods on 3 datasets (Fr{\'e}jus, Pezenas and Kobe), including the cases of (1) matching aerial epochs only and (2) matching aerial and satellite epochs mixed.
Experiments showed that:\\
\begin{enumerate}
	\item The 2 methods that recovered enough good matches for all the datasets are $SIFT_{DSM}$ and $SuperGlue_{DSM}$, since landcover is more reliable information as scene evolves.
	\item SuperGlue succeeded on all the 3 pipelines for almost all the datasets, except the one of co-registering Pezenas aerial epoch 1971 with satellite epoch 2014, as the limited common zone and cloud cover make the context less informative.
	\item Over half of testing cases in $SIFT_{ImgPairs}$ and $SIFT_{Ortho}$ failed, as SIFT is not sufficiently invariant over time. 
\end{enumerate}
%\section{Discussion}

